<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Cardio">
    <meta name="theme-color" content="#1a1a2e">
    <title>Cardio Challenge</title>
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="./icon-assets/Assets.xcassets/AppIcon.appiconset/180.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./icon-assets/Assets.xcassets/AppIcon.appiconset/152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./icon-assets/Assets.xcassets/AppIcon.appiconset/120.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./icon-assets/Assets.xcassets/AppIcon.appiconset/32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./icon-assets/Assets.xcassets/AppIcon.appiconset/16.png">
    <link rel="stylesheet" href="./styles.css">
    <script src="https://accounts.google.com/gsi/client" async></script>
    <script src="./app.js" defer></script>
</head>
<body>
    <div class="header">
        <h1>Cardio Challenge</h1>
        <p>February 2026</p>
        <div class="auth-section" id="auth-section">
            <div id="google-signin-btn"></div>
            <div class="user-profile hidden" id="user-profile">
                <img class="user-avatar" id="user-avatar" alt="" />
                <span class="user-name" id="user-name"></span>
                <button class="sign-out-btn" id="sign-out-btn">Sign out</button>
            </div>
        </div>
    </div>

    <div class="cards-grid">
        <div class="card-wrapper">
            <a href="https://docs.google.com/spreadsheets/u/1/d/1FqFJqc9eYzOLVMbT0EGwMr13EDYr_lEOKQhDlptkldQ/edit?gid=0#gid=0" class="card card-tracker">
                <div class="card-icon">üìä</div>
                <div class="card-content">
                    <span class="card-label">Tracker</span>
                    <p>Standings &amp; progress</p>
                </div>
            </a>
        </div>

        <div class="card-wrapper">
            <a href="https://forms.gle/7K6EH5aNPKMWc7e59" class="card card-log">
                <div class="card-icon">‚úèÔ∏è</div>
                <div class="card-content">
                    <span class="card-label">Log Activity</span>
                    <p>Via Google Forms</p>
                </div>
            </a>
        </div>

        <div class="card-wrapper">
            <button class="card card-quick-log" id="quick-log-btn" disabled title="Sign in to use Quick Log">
                <div class="card-icon">‚ö°</div>
                <div class="card-content">
                    <span class="card-label">Quick Log</span>
                    <p>Log without leaving</p>
                </div>
            </button>
            <span class="card-tooltip">Sign in to use</span>
        </div>

        <div class="card-wrapper">
            <button class="card card-swim-calc" id="swim-calc-btn">
                <div class="card-icon">üèä</div>
                <div class="card-content">
                    <span class="card-label">Swim Calc</span>
                    <p>Convert laps to miles</p>
                </div>
            </button>
        </div>
    </div>
    <div class="toast hidden" id="toast"></div>

    <div class="modal-overlay hidden" id="quick-log-modal">
        <div class="modal quick-log-modal-content">
            <button class="modal-close" id="quick-log-close">&times;</button>
            <h2 class="quick-log-title">Log Activity</h2>
            <form id="quick-log-form" autocomplete="off">
                <div class="form-group">
                    <label for="log-activity">Activity</label>
                    <div class="activity-selector" id="activity-selector">
                        <button type="button" class="activity-btn" data-value="Run">üèÉ Run</button>
                        <button type="button" class="activity-btn" data-value="Swim">üèä Swim</button>
                        <button type="button" class="activity-btn" data-value="Bike">üö¥ Bike</button>
                    </div>
                    <input type="hidden" id="log-activity" required />
                </div>
                <div class="form-group">
                    <label for="log-miles">Miles</label>
                    <input type="number" id="log-miles" step="0.01" min="0" inputmode="decimal" placeholder="0.00" required />
                </div>
                <div class="form-group">
                    <label for="log-date">Date</label>
                    <input type="date" id="log-date" required />
                </div>
                <button type="submit" class="submit-btn" id="quick-log-submit">Submit</button>
            </form>
            <div class="form-status hidden" id="form-status"></div>
        </div>
    </div>

    <div class="modal-overlay hidden" id="swim-calc-modal">
        <div class="modal quick-log-modal-content">
            <button class="modal-close" id="swim-calc-close">&times;</button>
            <h2 class="quick-log-title">Swim Calculator</h2>
            <div class="form-group">
                <label for="swim-yard-per-lap">Yards per lap</label>
                <input type="number" id="swim-yard-per-lap" value="50" min="1" inputmode="numeric" />
            </div>
            <div class="form-group">
                <label for="swim-laps">Number of laps</label>
                <input type="number" id="swim-laps" min="0" inputmode="numeric" placeholder="0" />
            </div>
            <div class="swim-result hidden" id="swim-result">
                <span class="swim-miles" id="swim-miles">0.00</span>
                <span class="swim-miles-label">miles</span>
                <button class="copy-btn" id="swim-copy">Copy</button>
            </div>
        </div>
    </div>

    <div class="standings">
        <div class="standings-header">
            <div class="week-title-container">
                <h2>
                    <span class="week-nav prev" id="week-prev">‚Äπ</span>
                    <span id="week-title">Week 1</span>
                    <span class="week-nav next" id="week-next">‚Ä∫</span>
                </h2>
                <div class="week-subtitle" id="week-subtitle"></div>
            </div>
            <button id="refresh-btn">Refresh</button>
        </div>
        <div class="standings-list" id="standings-list">
            <div class="standings-loading">Loading standings...</div>
        </div>
    </div>

    <div class="combined-section">
        <div class="standings-list" id="combined-list"></div>
    </div>

    <div class="footer">
        <p>Add to Home Screen for quick access</p>
    </div>

    <div class="modal-overlay hidden" id="update-modal">
        <div class="modal">
            <button class="modal-close" id="modal-close">&times;</button>
            <p class="modal-text">You can now sign in with Google to gain access to additional features.</p>
            <div id="modal-signin-btn" class="modal-signin"></div>
            <label class="modal-checkbox">
                <input type="checkbox" id="modal-dont-show" />
                <span>Don't show this again until new updates</span>
            </label>
        </div>
    </div>
</body>
</html>
